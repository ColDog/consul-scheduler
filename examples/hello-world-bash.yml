clusters:
  - name: default
    services:
      - bashing-service

services:
  - name: bashworld-service
    task_name: bashworld
    task_version: 4
    min: 3
    max: 7
    desired: 7

  - name: bashing-service
    task_name: bashing
    task_version: 2
    min: 1
    max: 1
    desired: 1

tasks:
  - name: bashworld
    version: 4
    provide_port: true

    containers:
      - name: bashworld
        type: bash
        memory: 1000
        cpu_units: 300
        executor:
          start:
            - echo 'start'
          stop:
            - echo 'stopping'

  - name: bashing
    version: 2
    containers:
      - name: bashing
        type: bash
        memory: 10
        cpu_units: 10
        executor:
          start:
            - echo 'start'
          stop:
            - echo 'stopping'
        checks:
          - name: noopcheck1
            interval: 10s
            script: echo 'ok'

      - name: bashing2
        type: bash
        memory: 10
        cpu_units: 10
        executor:
          start:
            - echo 'start'
          stop:
            - echo 'stopping'
        checks:
          - name: noopcheck2
            interval: 10s
            script: echo 'ok'
